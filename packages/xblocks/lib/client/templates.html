<template name="xblockForm">
    {{#autoForm collection="Xblocks" id="xblockForm" type="insert" xblockDocId=_id}}
      {{> afQuickField name='content' id='content' rows=2}}
    <button type="submit" doc="{{_id}}" class="btn btn-primary btn-sm">Submit</button>
    {{#if cancelButton}}
    <a class="btn-cancel-xblock">Cancel</a>
    {{/if}}
  {{/autoForm}}
</template>

<template name="xblockFormToggle">
    {{#if xblockingOn _id}}
        <hr/>
        {{> xblockForm _id=_id cancelButton=true}}
    {{else}}
        <button class="btn btn-primary btn-sm btn-xblock" doc="{{_id}}"><i class="fa fa-server"></i> Xblock</button>
    {{/if}}
</template>

<template name="xblocks">
    <div class="xblocks">
        {{#if XblocksByDoc _id}}
            <hr/>
            {{#each XblocksByDoc _id}}
                    {{> xblock}}
            {{/each}}
        {{else}}
            {{> noXblocks}}
        {{/if}}
    </div>
</template>

<template name="xblock">
	<div class="media xblock">
		<!--<a class="pull-left" href="#">
			{{> profileThumb _id=owner}}
		</a>-->
		<div class="media-body">
            <p>{{{content}}}</p>
			<small class="media-heading">{{niceName}}</small>
		</div>
	</div>
</template>

<template name="hasXblocks">
    {{#each xblocks}}
        <div style="padding:20px">
	        <div class="tip left">
                {{content}}
            </div>
        </div>
    {{/each}}
</template>

<template name="noXblocks">
</template>